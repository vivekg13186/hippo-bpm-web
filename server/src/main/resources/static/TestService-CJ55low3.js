import{b as _,Q as S,c as k,d as b,_ as E,e as d}from"./use-quasar-rH8xsf9c.js";import{r,o as w,P as B,Q as x,R as s,f as l,U as g,V as p}from"./index-DqUZEimF.js";import{Q as P}from"./QForm-wlUfwZaB.js";import{Q as q}from"./QTd-B57z2wI0.js";import{Q as A}from"./QTable-3Y7WoxZI.js";import{Q as C}from"./QPage-DLo_HVN2.js";import{a as f}from"./index-B9ygI19o.js";import"./format-Cp6fs2Yg.js";import"./QList-B4Nl3b9B.js";const U={class:"q-pb-md q-gutter-sm"},M={__name:"TestService",setup($){const i=r(""),n=r(""),u=r(""),o=r(null),m=_(),y=[{align:"left",name:"title",label:"Title",field:"title",sortable:!0},{align:"left",name:"appName",label:"App Name",field:"appName",sortable:!0},{align:"left",name:"serviceName",label:"Service Name",field:"serviceName",sortable:!0},{align:"left",name:"ID",label:"ID",field:"id"},{align:"left",name:"actions",label:"Action"}],v=r([]);w(()=>{c()});const c=()=>{o.value.start(),f({method:"GET",url:"/api/tests"}).then(t=>{v.value=t.data}).catch(t=>{m.notify("Error fetching accounts"),console.error(t)}).finally(()=>{o.value.stop()})},Q=()=>{o.value.start(),f({method:"PUT",url:"/api/tests",data:{title:i.value,appName:n.value,serviceName:u.value,input:"{}"}}).then(t=>{console.log(t)}).catch(t=>{m.notify("Error saving test service"),console.error(t)}).finally(()=>{o.value.stop(),c()})},N=t=>{o.value.start(),f({method:"DELETE",url:`/api/tests/${t}`}).then(()=>{}).catch(a=>{m.notify("Error deleting test service"),console.error(a)}).finally(()=>{o.value.stop(),c()})},h=t=>{console.log("edit ",t)},T=()=>{};return(t,a)=>(x(),B(C,{class:"q-pa-md"},{default:s(()=>[l(S,{ref_key:"bar",ref:o,position:"top",size:"10px","skip-hijack":""},null,512),g("div",U,[l(k,null,{default:s(()=>[l(b,{label:"Home",to:"/"}),l(b,{label:"Test Service"})]),_:1})]),l(E,{title:"Test Service"},{default:s(()=>[l(P,{onSubmit:Q,onReset:T,class:"q-gutter-md"},{default:s(()=>[l(d,{filled:"",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),label:"Title","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),l(d,{filled:"",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),label:"App Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),l(d,{filled:"",modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value=e),label:"Service Name","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),l(p,{type:"submit",label:"submit",unelevated:"",color:"primary"})]),_:1})]),_:1}),a[3]||(a[3]=g("div",{class:"p-ma-md"},"Â ",-1)),l(A,{columns:y,rows:v.value,flat:"",bordered:""},{"body-cell-actions":s(e=>[l(q,{props:e},{default:s(()=>[l(p,{icon:"edit",flat:"",color:"primary",to:"/runService/"+e.row.id,onClick:V=>h(e.row.id)},null,8,["to","onClick"]),l(p,{icon:"delete",flat:"",color:"primary",onClick:V=>N(e.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1}))}};export{M as default};
