import{u as j,a as F,b as D,Q as K,c as L,d as A,_ as N,e as k}from"./use-quasar-sB_JnDOa.js";import{k as M,N as O,g as Z,O as G,r as i,c as v,P as C,h as d,L as H,D as J,l as W,R as U,o as X,S as Y,G as P,f as o,H as f,F as ee,J as x,E as z,U as I,Q as E}from"./index-Cgg6CY0S.js";import{a as le,c as ae}from"./format-DEQCJbLs.js";import{o as te,u as oe,Q as ne}from"./QTable-BAhH-RTE.js";import{Q as se}from"./QForm-CnUCZ2Bt.js";import{Q as ue}from"./QTd-C90NdyU5.js";import{Q as re}from"./QPage-D0k8eBR5.js";import{a as B}from"./index-B9ygI19o.js";import"./QList-DHH-FTCO.js";const ie=()=>d("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[d("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),d("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),R=M({name:"QRadio",props:{...le,...O,...j,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(l,{slots:c,emit:_}){const{proxy:b}=Z(),y=ae(l,b.$q),w=G(l,te),V=i(null),{refocusTargetEl:q,refocusTarget:g}=oe(l,V),s=v(()=>C(l.modelValue)===C(l.val)),p=v(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(l.disable===!0?" disabled":"")+(y.value===!0?" q-radio--dark":"")+(l.dense===!0?" q-radio--dense":"")+(l.leftLabel===!0?" reverse":"")),h=v(()=>{const t=l.color!==void 0&&(l.keepColor===!0||s.value===!0)?` text-${l.color}`:"";return`q-radio__inner relative-position q-radio__inner--${s.value===!0?"truthy":"falsy"}${t}`}),m=v(()=>(s.value===!0?l.checkedIcon:l.uncheckedIcon)||null),u=v(()=>l.disable===!0?-1:l.tabindex||0),r=v(()=>{const t={type:"radio"};return l.name!==void 0&&Object.assign(t,{".checked":s.value===!0,"^checked":s.value===!0?"checked":void 0,name:l.name,value:l.val}),t}),n=F(r);function a(t){t!==void 0&&(U(t),g(t)),l.disable!==!0&&s.value!==!0&&_("update:modelValue",l.val,t)}function e(t){(t.keyCode===13||t.keyCode===32)&&U(t)}function S(t){(t.keyCode===13||t.keyCode===32)&&a(t)}Object.assign(b,{set:a});const $=ie();return()=>{const t=m.value!==null?[d("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[d(H,{class:"q-radio__icon",name:m.value})])]:[$];l.disable!==!0&&n(t,"unshift"," q-radio__native q-ma-none q-pa-none");const Q=[d("div",{class:h.value,style:w.value,"aria-hidden":"true"},t)];q.value!==null&&Q.push(q.value);const T=l.label!==void 0?J(c.default,[l.label]):W(c.default);return T!==void 0&&Q.push(d("div",{class:"q-radio__label q-anchor--skip"},T)),d("div",{ref:V,class:p.value,tabindex:u.value,role:"radio","aria-label":l.label,"aria-checked":s.value===!0?"true":"false","aria-disabled":l.disable===!0?"true":void 0,onClick:a,onKeydown:e,onKeyup:S},Q)}}}),de={class:"q-pb-md q-gutter-sm"},ce={class:"q-gutter-sm"},Ve={__name:"AccountsPage",setup(l){const c=D(),_=[{align:"left",name:"title",label:"Title",field:"title",sortable:!0},{align:"left",name:"url",label:"URL",field:"url",sortable:!0},{align:"left",name:"username",label:"Username",field:"username",sortable:!0},{align:"left",name:"type",label:"Auth Type",field:"type"},{align:"left",name:"actions",label:"Action"}],b=i([{id:"_default_1",title:"test1",url:"http://www.google.com",username:"vivek",authType:"ZenAPI"},{id:"asd:",title:"test1",url:"http://www.google.com",username:"vivek",authType:"Basic"}]);X(()=>{y()});const y=()=>{r.value.start(),B({method:"GET",url:"/api/accounts"}).then(n=>{b.value=n.data}).catch(n=>{c.notify("Error fetching accounts"),console.error(n)}).finally(()=>{r.value.stop()})},w=()=>{r.value.start(),B({method:"PUT",url:"/api/accounts",data:{title:g.value,url:s.value,username:p.value,password:u.value=="basic"?h.value:m.value,type:u.value}}).then(n=>{console.log(n)}).catch(n=>{c.notify("Error saving account"),console.error(n)}).finally(()=>{r.value.stop(),y()})},V=n=>{r.value.start(),B({method:"DELETE",url:`/api/accounts/${n}`}).then(()=>{}).catch(a=>{c.notify("Error deleting account"),console.error(a)}).finally(()=>{r.value.stop(),y()})},q=()=>{},g=i(""),s=i(""),p=i(""),h=i(""),m=i(""),u=i("basic"),r=i(null);return(n,a)=>(P(),Y(ee,null,[o(K,{ref_key:"bar",ref:r,position:"top",size:"10px","skip-hijack":""},null,512),o(re,{class:"q-pa-md q-gutter-md"},{default:f(()=>[x("div",de,[o(L,null,{default:f(()=>[o(A,{label:"Home",to:"/"}),o(A,{label:"Account"})]),_:1})]),o(N,{title:"Account"},{default:f(()=>[o(se,{onSubmit:w,onReset:q,class:"q-gutter-md"},{default:f(()=>[o(k,{filled:"",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),label:"Title","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),o(k,{filled:"",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),label:"Url",type:"url","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),o(k,{filled:"",modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),label:"Username","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),x("div",ce,[o(R,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value=e),val:"basic",label:"Basic Auth"},null,8,["modelValue"]),o(R,{modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),val:"zen",label:"Zen API Key"},null,8,["modelValue"])]),u.value=="basic"?(P(),z(k,{key:0,filled:"",modelValue:h.value,"onUpdate:modelValue":a[5]||(a[5]=e=>h.value=e),type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"])):I("",!0),u.value=="zen"?(P(),z(k,{key:1,filled:"",modelValue:m.value,"onUpdate:modelValue":a[6]||(a[6]=e=>m.value=e),label:"Zen API Key","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"])):I("",!0),o(E,{type:"submit",label:"submit",unelevated:"",color:"primary"})]),_:1})]),_:1}),a[7]||(a[7]=x("div",{class:"p-ma-md"},"Â ",-1)),o(ne,{columns:_,rows:b.value,flat:"",bordered:""},{"body-cell-actions":f(e=>[o(ue,{props:e},{default:f(()=>[o(E,{icon:"delete",flat:"",color:"primary",onClick:S=>V(e.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1})],64))}};export{Ve as default};
