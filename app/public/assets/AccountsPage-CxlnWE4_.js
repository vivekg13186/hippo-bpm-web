import{u as j,a as K,b as D,Q as F,c as L,d as S,_ as M,e as k}from"./use-quasar-Cbnt_2Fx.js";import{k as N,Z,g as O,_ as G,r as i,c as v,$ as I,h as d,X as H,O as X,l as J,I as U,o as W,P,Q as x,R as f,f as o,U as T,a0 as z,V as E}from"./index-DbAAbcwL.js";import{a as Y,d as ee}from"./format-Ca8osF-p.js";import{o as le,u as ae,Q as te}from"./QTable-CAEbHdIv.js";import{Q as oe}from"./QForm-Ccey2RCr.js";import{Q as ne}from"./QTd-DTPpTfAn.js";import{Q as se}from"./QPage-BjXwtwLK.js";import{a as A}from"./index-B9ygI19o.js";import"./QList-Bd86qitD.js";const ue=()=>d("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[d("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),d("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),R=N({name:"QRadio",props:{...Y,...Z,...j,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(l,{slots:c,emit:q}){const{proxy:b}=O(),y=ee(l,b.$q),w=G(l,le),V=i(null),{refocusTargetEl:_,refocusTarget:g}=ae(l,V),s=v(()=>I(l.modelValue)===I(l.val)),p=v(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(l.disable===!0?" disabled":"")+(y.value===!0?" q-radio--dark":"")+(l.dense===!0?" q-radio--dense":"")+(l.leftLabel===!0?" reverse":"")),h=v(()=>{const t=l.color!==void 0&&(l.keepColor===!0||s.value===!0)?` text-${l.color}`:"";return`q-radio__inner relative-position q-radio__inner--${s.value===!0?"truthy":"falsy"}${t}`}),m=v(()=>(s.value===!0?l.checkedIcon:l.uncheckedIcon)||null),u=v(()=>l.disable===!0?-1:l.tabindex||0),r=v(()=>{const t={type:"radio"};return l.name!==void 0&&Object.assign(t,{".checked":s.value===!0,"^checked":s.value===!0?"checked":void 0,name:l.name,value:l.val}),t}),n=K(r);function a(t){t!==void 0&&(U(t),g(t)),l.disable!==!0&&s.value!==!0&&q("update:modelValue",l.val,t)}function e(t){(t.keyCode===13||t.keyCode===32)&&U(t)}function B(t){(t.keyCode===13||t.keyCode===32)&&a(t)}Object.assign(b,{set:a});const $=ue();return()=>{const t=m.value!==null?[d("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[d(H,{class:"q-radio__icon",name:m.value})])]:[$];l.disable!==!0&&n(t,"unshift"," q-radio__native q-ma-none q-pa-none");const Q=[d("div",{class:h.value,style:w.value,"aria-hidden":"true"},t)];_.value!==null&&Q.push(_.value);const C=l.label!==void 0?X(c.default,[l.label]):J(c.default);return C!==void 0&&Q.push(d("div",{class:"q-radio__label q-anchor--skip"},C)),d("div",{ref:V,class:p.value,tabindex:u.value,role:"radio","aria-label":l.label,"aria-checked":s.value===!0?"true":"false","aria-disabled":l.disable===!0?"true":void 0,onClick:a,onKeydown:e,onKeyup:B},Q)}}}),re={class:"q-pb-md q-gutter-sm"},ie={class:"q-gutter-sm"},he={__name:"AccountsPage",setup(l){const c=D(),q=[{align:"left",name:"title",label:"Title",field:"title",sortable:!0},{align:"left",name:"url",label:"URL",field:"url",sortable:!0},{align:"left",name:"username",label:"Username",field:"username",sortable:!0},{align:"left",name:"type",label:"Auth Type",field:"type"},{align:"left",name:"actions",label:"Action"}],b=i([{id:"_default_1",title:"test1",url:"http://www.google.com",username:"vivek",authType:"ZenAPI"},{id:"asd:",title:"test1",url:"http://www.google.com",username:"vivek",authType:"Basic"}]);W(()=>{y()});const y=()=>{r.value.start(),A({method:"GET",url:"/api/accounts"}).then(n=>{b.value=n.data}).catch(n=>{c.notify("Error fetching accounts"),console.error(n)}).finally(()=>{r.value.stop()})},w=()=>{r.value.start(),A({method:"PUT",url:"/api/accounts",data:{title:g.value,url:s.value,username:p.value,password:u.value=="basic"?h.value:m.value,type:u.value}}).then(n=>{console.log(n)}).catch(n=>{c.notify("Error saving account"),console.error(n)}).finally(()=>{r.value.stop(),y()})},V=n=>{r.value.start(),A({method:"DELETE",url:`/api/accounts/${n}`}).then(()=>{}).catch(a=>{c.notify("Error deleting account"),console.error(a)}).finally(()=>{r.value.stop(),y()})},_=()=>{},g=i(""),s=i(""),p=i(""),h=i(""),m=i(""),u=i("basic"),r=i(null);return(n,a)=>(x(),P(se,{class:"q-pa-md q-gutter-md"},{default:f(()=>[o(F,{ref_key:"bar",ref:r,position:"top",size:"10px","skip-hijack":""},null,512),T("div",re,[o(L,null,{default:f(()=>[o(S,{label:"Home",to:"/"}),o(S,{label:"Account"})]),_:1})]),o(M,{title:"Account"},{default:f(()=>[o(oe,{onSubmit:w,onReset:_,class:"q-gutter-md"},{default:f(()=>[o(k,{filled:"",modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e),label:"Title","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),o(k,{filled:"",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),label:"Url",type:"url","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),o(k,{filled:"",modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),label:"Username","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),T("div",ie,[o(R,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value=e),val:"basic",label:"Basic Auth"},null,8,["modelValue"]),o(R,{modelValue:u.value,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),val:"zen",label:"Zen API Key"},null,8,["modelValue"])]),u.value=="basic"?(x(),P(k,{key:0,filled:"",modelValue:h.value,"onUpdate:modelValue":a[5]||(a[5]=e=>h.value=e),type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"])):z("",!0),u.value=="zen"?(x(),P(k,{key:1,filled:"",modelValue:m.value,"onUpdate:modelValue":a[6]||(a[6]=e=>m.value=e),label:"Zen API Key","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"])):z("",!0),o(E,{type:"submit",label:"submit",unelevated:"",color:"primary"})]),_:1})]),_:1}),a[7]||(a[7]=T("div",{class:"p-ma-md"},"Â ",-1)),o(te,{columns:q,rows:b.value,flat:"",bordered:""},{"body-cell-actions":f(e=>[o(ne,{props:e},{default:f(()=>[o(E,{icon:"delete",flat:"",color:"primary",onClick:B=>V(e.row.id)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1}))}};export{he as default};
